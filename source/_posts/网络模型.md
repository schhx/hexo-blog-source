---
title: 网络模型
categories:
  - 网络协议
tags:
  - 网络协议
date: 2019-04-21 16:15:18
---

学习网络协议最基础的内容就是网络模型，<!-- more -->网络模型不是一开始就有的，在网络刚发展时，网络协议是由各互联网公司自己定义的，但是这些网络协议并不能互通，这严重阻碍了互联网的发展。为了解决这个问题，国际标准化组织 1984 提出的模型标准，简称 OSI（Open Systems Interconnection Model）。

## OSI 七层模型

OSI 模型是从上往下的，越往下越接近硬件，越往上越接近软件，这七层模型从上到下分别是应用层、表示层、会话层、传输层、网络层、数据链路层、物理层。

- 应用层：各种应用软件，包括 Web 应用。
- 表示层：数据格式标识，基本压缩加密功能。
- 会话层：控制应用程序之间会话能力；如不同软件数据分发给不同软件。
- 传输层：端到端传输数据的基本功能；如 TCP、UDP。
- 网络层：定义IP编址，定义路由功能；如不同设备的数据转发。
- 数据链路层：定义数据的基本格式，如何传输，如何标识；如网卡MAC地址。
- 物理层：底层数据传输，如网线；网卡标准。 


## TCP/IP 四层模型

OSI 七层模型只是一个标准，并非实现。现实中我们往往使用的是 TCP/IP 四层模型，TCP/IP 四层模型从上到下分别是应用层、传输层、网络层、链路层。

![](网络模型.png)

我们可以看出每一层都有许多协议，但是对于一个做 Web 开发的程序员来讲，其实并不是所有的协议我们都需要关注，这里我们重点关注以下几种协议。

- 应用层：HTTP、HTTPS
- 传输层：TCP、UDP
- 网络层：IP
- 链路层：ARP

## 一次 HTTP 请求的过程

下面我们就通过一次 HTTP 请求来说明各层协议是如何协同工作的。

应用层使用的是 HTTP 协议，所以经过了应用层后，数据上面会加入 HTTP 头的内容。

传输层使用 TCP 协议，TCP 协议是面向连接的，它可以保证数据包能够到达目的地，经过传输层后，数据包又加入了 TCP 头，TCP 头中包括了

网络层使用 IP 协议，会加入 IP 头，IP 头中包括目的地的 IP 地址和自身的 IP 地址。

![](HTTP请求.png)

